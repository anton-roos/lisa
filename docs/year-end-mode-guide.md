# Year-End Mode Guide

## Overview

Year-End Mode is a feature that helps schools manage the transition between academic years. It safely archives learner data, removes subjects and results, and prepares learners for promotion decisions.

---

## What is Year-End Mode?

Year-End Mode is a special state that your school enters when preparing for the next academic year. When activated, it:

- **Archives all active learners** - Learners are moved to a "Year-End Archived" status
- **Preserves academic records** - Creates a snapshot of each learner's current grade, subjects, and class assignments
- **Clears current assignments** - Removes all subject enrollments and results (these are safely stored in academic records)
- **Enables promotion processing** - Sets all learners to "Promotion Pending" status, ready for decisions

---

## When to Use Year-End Mode

Activate Year-End Mode when:
- ✅ The current academic year is complete
- ✅ All final results have been captured
- ✅ You're ready to make promotion/retention decisions for learners
- ✅ You need to prepare learners for the next academic year

**Important:** Don't activate Year-End Mode mid-year, as it will remove all current subject assignments and results!

---

## How to Activate Year-End Mode

### Step 1: Navigate to Year-End Mode
1. Go to your school's management page
2. Find and click the **"Year-End Mode"** option in the menu or navigation

### Step 2: Review the Warning
You'll see information about what will happen when Year-End Mode is activated:
- Archive all active learners
- Remove all subjects and results (backed up in academic records)
- Set learners to "Year-End Archived" status
- Mark promotion status as "Pending"

### Step 3: Activate
1. Click the **"Activate Year-End Mode"** button
2. Confirm the action if prompted
3. Wait for the success message

**What happens behind the scenes:**
- The system creates an academic record for each learner
- Each record includes their current grade, class, subjects, and year
- All subject enrollments are removed from active status
- All results are removed (but archived in the academic record)
- Learners are marked as "Year-End Archived" with "Promotion Pending"

---

## Processing Learner Promotions

Once Year-End Mode is active, you need to process each learner's promotion status.

### View Learners Awaiting Promotion
While in Year-End Mode, you'll see a list of all learners who need promotion decisions. For each learner, you can:

### Option 1: Promote the Learner
- The learner advances to the next grade
- Their status changes from "Year-End Archived" to "Active"
- Their promotion status changes to "Promoted"
- They're ready to be assigned to a new class and subjects

### Option 2: Retain the Learner
- The learner stays in the same grade
- Their status changes from "Year-End Archived" to "Active"
- Their promotion status changes to "Retained"
- They're ready to be assigned to a new class in the same grade

### Adding Comments
When processing promotions, you can add optional comments to document:
- Reasons for retention
- Special circumstances
- Notes for the next academic year
- Any relevant information about the learner's progress

---

## How to Deactivate Year-End Mode

Once you've finished processing promotions:

### Step 1: Complete ALL Promotion Decisions
**Important:** You must process all learners before you can deactivate Year-End Mode. The system will prevent deactivation if any learners still have "Promotion Pending" status.

The page will show you:
- How many learners are still pending decisions
- A success message when all learners have been processed
- The deactivate button will be disabled until all learners are processed

### Step 2: Deactivate
Once all learners are processed:
1. Click the **"Deactivate Year-End Mode"** button
2. Confirm the action
3. Wait for the success message

**What happens:**
- The school returns to normal operation mode
- All processed learners (promoted/retained) keep their new status and are ready for class assignments
- The system will not allow any learners with "Promotion Pending" to remain

---

## Important Notes

### Data Safety
- ✅ All learner data is safely archived before removal
- ✅ Academic records preserve the year's grade, class, and subject information
- ✅ You can review academic records even after Year-End Mode is complete

### Workflow Best Practices
1. **Timing**: Activate Year-End Mode only after the academic year is complete
2. **Communication**: Inform staff that learners will be in archived status
3. **Process All**: You must process ALL promotion decisions before you can deactivate (this is enforced by the system)
4. **Verify**: Check learner statuses after deactivation to ensure correctness

### What You Cannot Do in Year-End Mode
- Add new learners to active status (they would immediately be archived)
- Assign subjects to learners (they're in archived status)
- Record new results (learners have no active subjects)

### Cannot Deactivate with Pending Learners
The system will prevent you from deactivating Year-End Mode if any learners still have "Promotion Pending" status. You must:
- Process all learners (promote or retain each one)
- Verify the pending count shows zero
- Only then will the deactivate button become enabled

This safety measure ensures no learners are left in an incomplete state during the year-end transition.

---

## Typical Year-End Workflow

Here's a recommended workflow for using Year-End Mode:

### Before Activation
1. ✅ Complete all final assessments and results
2. ✅ Review all learner records for accuracy
3. ✅ Ensure all data is up to date
4. ✅ Communicate with staff about the upcoming transition

### During Year-End Mode
1. ✅ Activate Year-End Mode
2. ✅ Review the list of learners awaiting promotion
3. ✅ Process each learner (promote or retain)
4. ✅ Add comments where necessary
5. ✅ Verify all learners have been processed

### After Year-End Mode
1. ✅ Deactivate Year-End Mode
2. ✅ Assign promoted learners to new classes
3. ✅ Assign retained learners to classes in their current grade
4. ✅ Enroll all learners in their new subjects
5. ✅ Begin the new academic year

---

## Troubleshooting

### "Year-End Mode is already active"
You've already activated Year-End Mode. Check the current status at the top of the page.

### "Failed to activate Year-End Mode"
- Check that you have the correct permissions
- Ensure the school exists and is accessible

### "Cannot deactivate Year-End Mode" or button is disabled
- Check how many learners still have "Promotion Pending" status
- Process all remaining learners (promote or retain each one)
- The deactivate button will only be enabled when all learners are processed
- This is a safety feature to prevent incomplete year-end transitions

### "Learners not showing in awaiting promotion list"
- Verify Year-End Mode is active
- Check that learners were in "Active" status before activation
- Ensure learners belong to the correct school

### Some learners weren't archived
Only learners with "Active" status at the time of activation are archived. Disabled or already archived learners are not affected.

---

## Summary

Year-End Mode is a powerful tool for managing the academic year transition. By following this guide, you can:
- Safely archive learner data from the current year
- Process promotion and retention decisions systematically
- Prepare your school for the new academic year with clean, organized data

**Remember:** Take your time, process each learner carefully, and communicate with your team throughout the process!
