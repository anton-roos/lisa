<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex, nofollow, noarchive" />
    <base href="/" />
    <link rel="stylesheet" href="@Assets["lib/bootstrap/bootstrap.css"]" />
    <link rel="stylesheet" href="@Assets["lib/quill/quill.snow.css"]">
    <link rel="stylesheet" href="@Assets["lib/bootstrap-icons/bootstrap-icons.css"]">
    <link rel="stylesheet" href="@Assets["app.css"]" />
    <link rel="stylesheet" href="@Assets["Lisa.styles.css"]" />
    <link href="manifest.webmanifest" rel="manifest" />
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png" />
    <ImportMap @rendermode="InteractiveServer" />
    <link rel="icon" type="image/png" href="favicon.ico" />
    <HeadOutlet @rendermode="InteractiveServer" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="@Assets["_content/MudBlazor/MudBlazor.min.css"]" rel="stylesheet" />
    <title>LISA</title>
</head>

<body>
    <Routes @rendermode="InteractiveServer" />
    <script src="@Assets["lib/chart/popper.js"]"></script>
    <script src="@Assets["_framework/blazor.web.js"]"></script>
    <script src="@Assets["lib/quill/quill.js"]"></script>
    <script src="@Assets["lib/bootstrap/bootstrap.js"]"></script>
    <script src="@Assets["lib/chart/chart.umd.js"]"></script>
    <script src="@Assets["lib/chart/chartjs-plugin-datalabels.js"]"></script>
    <script src="@Assets["lib/chart/Sortable.js"]"></script>
    <script src="@Assets["_content/Blazor.Bootstrap/blazor.bootstrap.js"]"></script>
    <script src="@Assets["js/mobile-nav.js"]"></script>
    <script>
        window.reloadToMainPage = () => {
            window.location.href = '/';
        };

        document.addEventListener('dragstart', function (e) {
            if (e.target && e.target.classList.contains('drag-handle')) {
                if (e.dataTransfer) {
                    e.dataTransfer.effectAllowed = 'move';

                    var subjectRow = e.target.closest('.subject-row');
                    if (subjectRow) {
                        var rect = subjectRow.getBoundingClientRect();
                        var offsetX = e.clientX - rect.left;
                        var offsetY = e.clientY - rect.top;
                        e.dataTransfer.setDragImage(subjectRow, offsetX, offsetY);
                    }
                }
            }
        });

        document.addEventListener('dragover', function (e) {
            var dropZone = e.target.closest('.subject-row');
            if (dropZone && e.dataTransfer) {
                e.dataTransfer.dropEffect = 'move';
            }
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="@Assets["js/pdf-helper.js"]"></script>
    <script src="@Assets["_content/MudBlazor/MudBlazor.min.js"]"></script>
</body>

</html>
